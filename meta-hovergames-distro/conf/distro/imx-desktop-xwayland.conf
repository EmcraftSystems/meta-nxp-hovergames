require conf/distro/poky.conf

#include conf/distro/include/fsl-imx-base.inc
#include conf/distro/include/fsl-imx-preferred-env.inc

DISTRO = "imx-desktop-xwayland"

# Remove conflicting backends
DISTRO_FEATURES_remove = "directfb "
DISTRO_FEATURES_append = " x11 wayland pam"

DISTRO_NAME = "Desktop Experience BSP"
DISTRO_VERSION = "1.0"
SDK_VENDOR = "-fslbsp"

TARGET_VENDOR = "-fsl"

SDK_NAME_PREFIX = "${DISTRO}"
SDK_NAME = "${DISTRO}-${TCLIBC}-${SDK_ARCH}-${TUNE_PKGARCH}"

POKY_DEFAULT_DISTRO_FEATURES_remove = " ptest"
DISTRO_FEATURES_DEFAULT_append = " benchmark vfat ext2 mtd \
    perl python usbhost virtualization pam polkit"

# disable network check to support offline build with sdk iso
CONNECTIVITY_CHECK_URIS = ""

# whiteliste restricted license
LICENSE_FLAGS_WHITELIST = "non-commercial_netperf commercial_lame"

#DISTRO_FEATURES_DEFAULT_append = " pam polkit"

# Given the layers we use, we have qemu and qemu-qoriq which are
# not yet synchronized into one. ALB historically has used qemu
# and all  the necessary pathces are there.
PREFERRED_PROVIDER_qemu = "qemu"

# TODO zeus: does not exist
# ignore glibc bbapend form meta-qoriq-demos: it triggers a conflict with
# latest poky/sumo branch for glibc
#BBMASK += "meta-qoriq-demos/recipes-core/glibc/glibc_2.27.bbappend"

IMAGE_CLASSES += "image_types_fsl_flashimage"

# UBI FS support
MKUBIFS_ARGS = "-m 512 -e 15360 -c 12000"
UBINIZE_ARGS = "-m 512 -p 16KiB -s 512"
